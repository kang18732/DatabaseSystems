-- MySQL dump 10.13  Distrib 8.0.27, for macos11.6 (x86_64)
--
-- Host: localhost    Database: Bank
-- ------------------------------------------------------
-- Server version	8.0.27

/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!50503 SET NAMES utf8mb4 */;
/*!40103 SET @OLD_TIME_ZONE=@@TIME_ZONE */;
/*!40103 SET TIME_ZONE='+00:00' */;
/*!40014 SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0 */;
/*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */;
/*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='NO_AUTO_VALUE_ON_ZERO' */;
/*!40111 SET @OLD_SQL_NOTES=@@SQL_NOTES, SQL_NOTES=0 */;

--
-- Current Database: `Bank`
--

CREATE DATABASE /*!32312 IF NOT EXISTS*/ `Bank` /*!40100 DEFAULT CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci */ /*!80016 DEFAULT ENCRYPTION='N' */;

USE `Bank`;

--
-- Table structure for table `ACCOUNT`
--

DROP TABLE IF EXISTS `ACCOUNT`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `ACCOUNT` (
  `AccNum` char(13) NOT NULL,
  `Password` char(4) NOT NULL,
  `DepositLimit` int NOT NULL,
  `WithdrawLimit` int NOT NULL,
  `Dormant` tinyint(1) NOT NULL DEFAULT '0',
  `AccountType` varchar(10) NOT NULL,
  `AccSsn` char(13) NOT NULL,
  `AdSsn` char(13) NOT NULL,
  PRIMARY KEY (`AccNum`),
  KEY `AccSsn` (`AccSsn`),
  KEY `AdSsn` (`AdSsn`),
  CONSTRAINT `account_ibfk_1` FOREIGN KEY (`AccSsn`) REFERENCES `USER` (`Ssn`) ON DELETE CASCADE,
  CONSTRAINT `account_ibfk_2` FOREIGN KEY (`AdSsn`) REFERENCES `ADMIN` (`AdminSsn`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `ACCOUNT`
--

LOCK TABLES `ACCOUNT` WRITE;
/*!40000 ALTER TABLE `ACCOUNT` DISABLE KEYS */;
INSERT INTO `ACCOUNT` VALUES ('0077739780925','1234',1000000,2000000,0,'checking','8601081234567','4910221234567'),('0236853610754','1234',20000000,20000000,0,'checking','8103301234567','4910221234567'),('0455631948160','1234',1000000,2000000,0,'checking','8706241234567','6706161234567'),('1054183666306','1234',300000,300000,0,'checking','8802141234567','6301261234567'),('2079480568605','1234',15000000,15000000,0,'checking','8103301234567','4910221234567'),('2592775058413','1234',1000000,3000000,0,'savings','8601081234567','4910221234567'),('2985132803594','1234',500000,500000,0,'checking','8802141234567','6301261234567'),('3099263022127','1234',13000000,13000000,0,'savings','8110031234567','6706161234567'),('3834895152465','1234',5000000,5000000,0,'savings','9202051234567','7101181234567'),('4054372154882','1234',10000000,10000000,0,'savings','8103301234567','4910221234567'),('6356385780651','1234',10000000,1000000,0,'checking','8405111234567','6706161234567'),('6664109406187','1234',10000000,50000000,0,'checking','8405111234567','6706161234567'),('7148799235964','1234',200000,200000,0,'checking','9202051234567','7101181234567'),('7175860081127','1234',1000000,1000000,0,'checking','8502051234567','6301261234567'),('7329895101034','1234',3000000,3000000,0,'checking','9202051234567','7101181234567'),('8020752237630','1234',15000000,15000000,0,'checking','8706241234567','6706161234567'),('8590647450930','1234',50000,50000,0,'savings','9812201234567','6301261234567'),('8719103908978','1234',10000,10000,0,'checking','9812201234567','6301261234567'),('9101272016590','1234',20000000,15000000,0,'checking','8110031234567','6706161234567'),('9330796853833','1234',10000,50000,0,'savings','8706241234567','6706161234567'),('9397577533999','1234',12000000,10000000,0,'savings','8502051234567','6301261234567'),('9819826886612','1234',10000000,10000000,0,'checking','8110031234567','6706161234567');
/*!40000 ALTER TABLE `ACCOUNT` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `ADMIN`
--

DROP TABLE IF EXISTS `ADMIN`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `ADMIN` (
  `AdminSsn` char(13) NOT NULL,
  `Name` varchar(20) NOT NULL,
  `Address` varchar(30) DEFAULT NULL,
  `Phone` char(11) DEFAULT NULL,
  PRIMARY KEY (`AdminSsn`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `ADMIN`
--

LOCK TABLES `ADMIN` WRITE;
/*!40000 ALTER TABLE `ADMIN` DISABLE KEYS */;
INSERT INTO `ADMIN` VALUES ('4910221234567','Wenger','Strasbourg, France','01012344321'),('6301261234567','Mourinho','Lisbon, Portugal','01012345678'),('6706161234567','Klopp','Stuttgart, Germany','01098765678'),('7101181234567','Guardiola','Santpedor, Spain','01012348765');
/*!40000 ALTER TABLE `ADMIN` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `TRANSACTION`
--

DROP TABLE IF EXISTS `TRANSACTION`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `TRANSACTION` (
  `Date` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `Amount` int NOT NULL,
  `TransType` varchar(10) NOT NULL,
  `TNum` int NOT NULL AUTO_INCREMENT,
  `TSsn` char(13) NOT NULL,
  `TAdSsn` char(13) NOT NULL,
  `TAccNum` char(13) NOT NULL,
  PRIMARY KEY (`TNum`,`TAccNum`),
  KEY `TSsn` (`TSsn`),
  KEY `TAdSsn` (`TAdSsn`),
  KEY `TAccNum` (`TAccNum`),
  CONSTRAINT `transaction_ibfk_1` FOREIGN KEY (`TSsn`) REFERENCES `USER` (`Ssn`) ON DELETE CASCADE,
  CONSTRAINT `transaction_ibfk_2` FOREIGN KEY (`TAdSsn`) REFERENCES `ADMIN` (`AdminSsn`),
  CONSTRAINT `transaction_ibfk_3` FOREIGN KEY (`TAccNum`) REFERENCES `ACCOUNT` (`AccNum`) ON DELETE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=83 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `TRANSACTION`
--

LOCK TABLES `TRANSACTION` WRITE;
/*!40000 ALTER TABLE `TRANSACTION` DISABLE KEYS */;
INSERT INTO `TRANSACTION` VALUES ('2021-12-02 16:22:41',15000,'Deposit',1,'8103301234567','4910221234567','0236853610754'),('2021-12-02 16:22:45',5000,'Deposit',2,'8103301234567','4910221234567','0236853610754'),('2021-12-02 16:22:48',3000,'Withdrawal',3,'8103301234567','4910221234567','0236853610754'),('2021-12-02 16:22:58',8000,'Deposit',4,'8103301234567','4910221234567','0236853610754'),('2021-12-02 16:23:04',2000,'Withdrawal',5,'8103301234567','4910221234567','0236853610754'),('2021-12-02 16:23:26',1000,'Deposit',6,'8103301234567','4910221234567','2079480568605'),('2021-12-02 16:23:29',500,'Withdrawal',7,'8103301234567','4910221234567','2079480568605'),('2021-12-02 16:23:31',10000,'Deposit',8,'8103301234567','4910221234567','2079480568605'),('2021-12-02 16:23:34',5000,'Withdrawal',9,'8103301234567','4910221234567','2079480568605'),('2021-12-02 16:23:49',100000,'Deposit',10,'8103301234567','4910221234567','4054372154882'),('2021-12-02 16:23:52',50000,'Deposit',11,'8103301234567','4910221234567','4054372154882'),('2021-12-02 16:23:55',10000,'Withdrawal',12,'8103301234567','4910221234567','4054372154882'),('2021-12-02 16:25:01',50000,'Deposit',13,'8110031234567','6706161234567','3099263022127'),('2021-12-02 16:25:04',100000,'Deposit',14,'8110031234567','6706161234567','3099263022127'),('2021-12-02 16:25:13',30000,'Withdrawal',15,'8110031234567','6706161234567','3099263022127'),('2021-12-02 16:25:27',100000,'Deposit',16,'8110031234567','6706161234567','9101272016590'),('2021-12-02 16:25:30',50000,'Deposit',17,'8110031234567','6706161234567','9101272016590'),('2021-12-02 16:25:32',500,'Withdrawal',18,'8110031234567','6706161234567','9101272016590'),('2021-12-02 16:25:37',1000,'Withdrawal',19,'8110031234567','6706161234567','9101272016590'),('2021-12-02 16:25:55',100000,'Deposit',20,'8110031234567','6706161234567','9819826886612'),('2021-12-02 16:25:57',5000,'Withdrawal',21,'8110031234567','6706161234567','9819826886612'),('2021-12-02 16:26:00',3000,'Deposit',22,'8110031234567','6706161234567','9819826886612'),('2021-12-02 16:26:49',50000,'Deposit',23,'8405111234567','6706161234567','6356385780651'),('2021-12-02 16:26:51',20000,'Deposit',24,'8405111234567','6706161234567','6356385780651'),('2021-12-02 16:26:54',10000,'Withdrawal',25,'8405111234567','6706161234567','6356385780651'),('2021-12-02 16:26:58',10000,'Withdrawal',26,'8405111234567','6706161234567','6356385780651'),('2021-12-02 16:27:11',5000,'Deposit',27,'8405111234567','6706161234567','6664109406187'),('2021-12-02 16:27:13',5000,'Deposit',28,'8405111234567','6706161234567','6664109406187'),('2021-12-02 16:27:16',1000,'Withdrawal',29,'8405111234567','6706161234567','6664109406187'),('2021-12-02 16:27:18',3000,'Withdrawal',30,'8405111234567','6706161234567','6664109406187'),('2021-12-02 16:28:09',10000,'Deposit',31,'8502051234567','6301261234567','7175860081127'),('2021-12-02 16:28:12',1000000,'Deposit',32,'8502051234567','6301261234567','7175860081127'),('2021-12-02 16:28:16',50000,'Withdrawal',33,'8502051234567','6301261234567','7175860081127'),('2021-12-02 16:28:27',500,'Withdrawal',34,'8502051234567','6301261234567','7175860081127'),('2021-12-02 16:28:42',100000,'Deposit',35,'8502051234567','6301261234567','9397577533999'),('2021-12-02 16:28:45',1000,'Withdrawal',36,'8502051234567','6301261234567','9397577533999'),('2021-12-02 16:28:47',50000,'Deposit',37,'8502051234567','6301261234567','9397577533999'),('2021-12-02 16:29:31',100000,'Deposit',38,'8601081234567','4910221234567','0077739780925'),('2021-12-02 16:29:33',50000,'Deposit',39,'8601081234567','4910221234567','0077739780925'),('2021-12-02 16:29:35',3000,'Withdrawal',40,'8601081234567','4910221234567','0077739780925'),('2021-12-02 16:29:47',10000,'Deposit',41,'8601081234567','4910221234567','2592775058413'),('2021-12-02 16:29:49',500,'Withdrawal',42,'8601081234567','4910221234567','2592775058413'),('2021-12-02 16:29:51',500,'Deposit',43,'8601081234567','4910221234567','2592775058413'),('2021-12-02 16:33:18',50000,'Deposit',44,'8706241234567','6706161234567','0455631948160'),('2021-12-02 16:33:21',20000,'Deposit',45,'8706241234567','6706161234567','0455631948160'),('2021-12-02 16:33:25',1000,'Withdrawal',46,'8706241234567','6706161234567','0455631948160'),('2021-12-02 16:33:28',10000,'Withdrawal',47,'8706241234567','6706161234567','0455631948160'),('2021-12-02 16:33:41',10000,'Deposit',48,'8706241234567','6706161234567','8020752237630'),('2021-12-02 16:33:44',20000,'Deposit',49,'8706241234567','6706161234567','8020752237630'),('2021-12-02 16:33:48',30000,'Deposit',50,'8706241234567','6706161234567','8020752237630'),('2021-12-02 16:33:53',5000,'Withdrawal',51,'8706241234567','6706161234567','8020752237630'),('2021-12-02 16:33:55',5000,'Withdrawal',52,'8706241234567','6706161234567','8020752237630'),('2021-12-02 16:34:13',10000,'Deposit',53,'8706241234567','6706161234567','9330796853833'),('2021-12-02 16:34:15',10000,'Deposit',54,'8706241234567','6706161234567','9330796853833'),('2021-12-02 16:34:16',10000,'Deposit',55,'8706241234567','6706161234567','9330796853833'),('2021-12-02 16:34:19',5000,'Withdrawal',56,'8706241234567','6706161234567','9330796853833'),('2021-12-02 16:34:22',10000,'Withdrawal',57,'8706241234567','6706161234567','9330796853833'),('2021-12-02 16:36:37',10000,'Deposit',58,'8802141234567','6301261234567','1054183666306'),('2021-12-02 16:36:39',10000,'Deposit',59,'8802141234567','6301261234567','1054183666306'),('2021-12-02 16:36:42',5000,'Withdrawal',60,'8802141234567','6301261234567','1054183666306'),('2021-12-02 16:36:53',5000,'Deposit',61,'8802141234567','6301261234567','2985132803594'),('2021-12-02 16:36:55',3000,'Withdrawal',62,'8802141234567','6301261234567','2985132803594'),('2021-12-02 16:36:57',10000,'Deposit',63,'8802141234567','6301261234567','2985132803594'),('2021-12-02 16:37:47',100000,'Deposit',64,'9202051234567','7101181234567','3834895152465'),('2021-12-02 16:37:49',1000000,'Deposit',65,'9202051234567','7101181234567','3834895152465'),('2021-12-02 16:37:51',50000,'Withdrawal',66,'9202051234567','7101181234567','3834895152465'),('2021-12-02 16:38:08',10000,'Deposit',67,'9202051234567','7101181234567','7148799235964'),('2021-12-02 16:38:10',10000,'Deposit',68,'9202051234567','7101181234567','7148799235964'),('2021-12-02 16:38:11',500,'Withdrawal',69,'9202051234567','7101181234567','7148799235964'),('2021-12-02 16:38:12',500,'Withdrawal',70,'9202051234567','7101181234567','7148799235964'),('2021-12-02 16:38:28',100000,'Deposit',71,'9202051234567','7101181234567','7329895101034'),('2021-12-02 16:38:30',200000,'Deposit',72,'9202051234567','7101181234567','7329895101034'),('2021-12-02 16:38:32',1000,'Withdrawal',73,'9202051234567','7101181234567','7329895101034'),('2021-12-02 16:38:36',5000,'Withdrawal',74,'9202051234567','7101181234567','7329895101034'),('2021-12-02 16:38:41',90000,'Withdrawal',75,'9202051234567','7101181234567','7329895101034'),('2021-12-02 16:39:25',50000,'Deposit',76,'9812201234567','6301261234567','8590647450930'),('2021-12-02 16:39:28',30000,'Withdrawal',77,'9812201234567','6301261234567','8590647450930'),('2021-12-02 16:39:30',20000,'Deposit',78,'9812201234567','6301261234567','8590647450930'),('2021-12-02 16:39:42',10000,'Deposit',79,'9812201234567','6301261234567','8719103908978'),('2021-12-02 16:39:45',10000,'Deposit',80,'9812201234567','6301261234567','8719103908978'),('2021-12-02 16:39:47',3000,'Withdrawal',81,'9812201234567','6301261234567','8719103908978'),('2021-12-02 16:39:49',6000,'Withdrawal',82,'9812201234567','6301261234567','8719103908978');
/*!40000 ALTER TABLE `TRANSACTION` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `USER`
--

DROP TABLE IF EXISTS `USER`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `USER` (
  `Phone` char(11) DEFAULT NULL,
  `NumOfAccounts` int NOT NULL DEFAULT '0',
  `Ssn` char(13) NOT NULL,
  `Name` varchar(20) NOT NULL,
  `Address` varchar(30) DEFAULT NULL,
  `ASsn` char(13) NOT NULL,
  PRIMARY KEY (`Ssn`),
  KEY `ASsn` (`ASsn`),
  CONSTRAINT `user_ibfk_1` FOREIGN KEY (`ASsn`) REFERENCES `ADMIN` (`AdminSsn`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `USER`
--

LOCK TABLES `USER` WRITE;
/*!40000 ALTER TABLE `USER` DISABLE KEYS */;
INSERT INTO `USER` VALUES ('01033334444',3,'8103301234567','Park','Seoul, Korea','4910221234567'),('01077776666',3,'8110031234567','Ibrahimovic','Malmo, Sweden','6706161234567'),('01088887777',2,'8405111234567','Iniesta','Fuentealbilla, Spain','6706161234567'),('01022223333',2,'8502051234567','Ronaldo','Funchal, Portugal','6301261234567'),('01098766666',2,'8601081234567','Silva','Arguineguin, Spain','4910221234567'),('01011112222',3,'8706241234567','Messi','Rosario, Argentina','6706161234567'),('01044443333',2,'8802141234567','Di Maria','Rosario, Argentina','6301261234567'),('01099998888',3,'9202051234567','Neymar','Sao Paulo, Brazil','7101181234567'),('01012347777',2,'9812201234567','Mbappe','Paris, France','6301261234567');
/*!40000 ALTER TABLE `USER` ENABLE KEYS */;
UNLOCK TABLES;
/*!40103 SET TIME_ZONE=@OLD_TIME_ZONE */;

/*!40101 SET SQL_MODE=@OLD_SQL_MODE */;
/*!40014 SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS */;
/*!40014 SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS */;
/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
/*!40111 SET SQL_NOTES=@OLD_SQL_NOTES */;

-- Dump completed on 2021-12-03  1:41:13
